

<html>
<head>


<script src="jsfx.js"></script>
<script src="md5.min.js"></script>
<script>
var modules = [
	jsfx.Module.Frequency,
	jsfx.Module.Vibrato,
	jsfx.Module.Guitar,
	jsfx.Module.Volume
];

var base = function(){
	return {
		Frequency: { Slide: (Math.random() - 0.5)/5 },
		Volume: { Master: 1, Attack: 0, Punch: 1, Release: 1, Decay: 3 }
	};
};

var live = jsfx.Live({}, modules);

function MergeParams(base, override){
	if(typeof base === 'function'){
		base = base();
	} else {
		base = JSON.parse(JSON.stringify(base));
	}

	if(typeof override === 'function'){
		override = override();
	}

	for(var name in override){
		if(typeof base[name] === 'undefined'){
			base[name] = {};
		}
		for(var param in override[name]){
			base[name][param] = override[name][param];
		}
	}

	return base;
}

</script>




</head>
<body>
<b>Note this is broken on Chrome ATM.</b>
<button onclick="play()">Static</button>
<script>

var fingerprint = "0a276ba826f1e896b866bd786bf176132";
var mult = "";


var jump = 3;
var scale = "1234567890abcdef";
function play(){
	(function theLoop (i) {
	setTimeout(function () {
    var freq = (mult) * Math.pow(2, scale.indexOf(fingerprint[i-1])/16);
	var params = MergeParams(base, { "Frequency": {"Start": freq},Vibrato: {Depth: scale.indexOf(fingerprint[i-2]) / 16,
		Frequency: scale.indexOf(fingerprint[i-3]) * 10 + 5}});
		live._play(params);
    if (--i) {          // If i > 0, keep going
      theLoop(i);       // Call the loop again, and pass it the current value of i
    }
	}, 100);
	})(fingerprint.length/jump);}

</script>
</body>
</html>